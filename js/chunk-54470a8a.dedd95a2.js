(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54470a8a"],{"057f":function(t,e,a){var n=a("c6b6"),c=a("fc6a"),o=a("241c").f,i=a("4dae"),r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return o(t)}catch(e){return i(r)}};t.exports.f=function(t){return r&&"Window"==n(t)?s(t):o(c(t))}},"0b42":function(t,e,a){var n=a("da84"),c=a("e8b5"),o=a("68ee"),i=a("861d"),r=a("b622"),s=r("species"),l=n.Array;t.exports=function(t){var e;return c(t)&&(e=t.constructor,o(e)&&(e===l||c(e.prototype))?e=void 0:i(e)&&(e=e[s],null===e&&(e=void 0))),void 0===e?l:e}},"1dde":function(t,e,a){var n=a("d039"),c=a("b622"),o=a("2d00"),i=c("species");t.exports=function(t){return o>=51||!n((function(){var e=[],a=e.constructor={};return a[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"2a53":function(t,e,a){"use strict";var n=a("7a23"),c={class:"d-flex justify-content-center","aria-label":"Page navigation"},o={class:"pagination"},i=Object(n["h"])("a",{class:"page-link",href:"#","aria-label":"Previous"},[Object(n["h"])("span",{"aria-hidden":"true"},"«")],-1),r=[i],s=["onClick"],l=Object(n["h"])("a",{class:"page-link",href:"#","aria-label":"Next"},[Object(n["h"])("span",{"aria-hidden":"true"},"»")],-1),d=[l];function u(t,e,a,i,l,u){var b,h,f;return Object(n["A"])(),Object(n["g"])("nav",c,[Object(n["h"])("ul",o,[Object(n["h"])("li",{class:Object(n["t"])(["page-item",{disabled:!(null!==(b=a.pages)&&void 0!==b&&b.has_pre)}]),onClick:e[0]||(e[0]=Object(n["X"])((function(e){return t.$emit("page",a.pages.current_page-1)}),["prevent"]))},r,2),(Object(n["A"])(!0),Object(n["g"])(n["a"],null,Object(n["F"])(null===(h=a.pages)||void 0===h?void 0:h.total_pages,(function(e){var c;return Object(n["A"])(),Object(n["g"])("li",{class:Object(n["t"])(["page-item",{active:a.pages.current_page===e}]),key:e+"_"+(null===(c=a.pages)||void 0===c?void 0:c.total_pages)},[Object(n["h"])("a",{class:"page-link",href:"#",onClick:Object(n["X"])((function(a){return t.$emit("page",e)}),["prevent"])},Object(n["K"])(e),9,s)],2)})),128)),Object(n["h"])("li",{class:Object(n["t"])(["page-item",{disabled:!(null!==(f=a.pages)&&void 0!==f&&f.has_next)}]),onClick:e[1]||(e[1]=Object(n["X"])((function(e){return t.$emit("page",a.pages.current_page+1)}),["prevent"]))},d,2)])])}var b={props:["pages"],emits:["page"]},h=a("6b0d"),f=a.n(h);const p=f()(b,[["render",u]]);e["a"]=p},"428f":function(t,e,a){var n=a("da84");t.exports=n},"4dae":function(t,e,a){var n=a("da84"),c=a("23cb"),o=a("07fa"),i=a("8418"),r=n.Array,s=Math.max;t.exports=function(t,e,a){for(var n=o(t),l=c(e,n),d=c(void 0===a?n:a,n),u=r(s(d-l,0)),b=0;l<d;l++,b++)i(u,b,t[l]);return u.length=b,u}},"64af":function(t,e,a){"use strict";a("aeec")},"65f0":function(t,e,a){var n=a("0b42");t.exports=function(t,e){return new(n(t))(0===e?0:e)}},"6ff1":function(t,e,a){"use strict";var n=a("7a23"),c={class:"modal fade",id:"delModal",tabindex:"-1",ref:"modal"},o={class:"modal-dialog"},i={class:"modal-content"},r=Object(n["h"])("div",{class:"modal-header bg-danger text-white"},[Object(n["h"])("h3",{class:"modal-title fw-bold"},"刪除資料"),Object(n["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),s={class:"modal-body p-5"},l=Object(n["h"])("p",null," 確定要刪除以下資料嗎？ ",-1),d=Object(n["h"])("strong",{class:"text-danger"},"※ 注意：刪除後資料無法復原",-1),u={class:"modal-footer"},b=["disabled"],h={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},f={key:1},p=Object(n["h"])("button",{type:"button",class:"btn btn-secondary px-4","data-bs-dismiss":"modal"},"取消",-1);function m(t,e,a,m,g,O){return Object(n["A"])(),Object(n["g"])("div",c,[Object(n["h"])("div",o,[Object(n["h"])("div",i,[r,Object(n["h"])("div",s,[l,Object(n["G"])(t.$slots,"modal-text"),d]),Object(n["h"])("div",u,[Object(n["h"])("button",{type:"button",class:"btn btn-outline-danger px-4",onClick:e[0]||(e[0]=function(){return O.delData&&O.delData.apply(O,arguments)}),disabled:g.isLoading},[g.isLoading?(Object(n["A"])(),Object(n["g"])("span",h)):(Object(n["A"])(),Object(n["g"])("span",f,"刪除"))],8,b),p])])])],512)}a("99af");var g=a("e0ae"),O=a("cab8"),j={data:function(){return{modal:{},data:this.item,isLoading:!1}},props:["item","view"],watch:{item:{handler:function(t){this.data=t},deep:!0}},mixins:[g["a"]],methods:{delData:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("calon","/admin/").concat(this.view,"/").concat(this.data.id),a="";switch(this.view){case"product":a="刪除產品";break;case"coupon":a="刪除優惠券";break;case"order":a="刪除訂單";break;default:break}this.isLoading=!0,this.$http.delete(e).then((function(e){Object(O["a"])(e.data.success,a),t.hideModal(),t.$emit("update")})).catch((function(t){Object(O["a"])(t.response.data.success,a)})).then((function(){t.isLoading=!1}))}}},v=a("6b0d"),y=a.n(v);const x=y()(j,[["render",m]]);e["a"]=x},"746f":function(t,e,a){var n=a("428f"),c=a("1a2d"),o=a("e538"),i=a("9bf2").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});c(e,t)||i(e,t,{value:o.f(t)})}},8418:function(t,e,a){"use strict";var n=a("a04b"),c=a("9bf2"),o=a("5c6c");t.exports=function(t,e,a){var i=n(e);i in t?c.f(t,i,o(0,a)):t[i]=a}},9865:function(t,e,a){"use strict";a.r(e);var n=a("7a23"),c=Object(n["h"])("h2",null,"產品資料管理列表",-1),o=Object(n["h"])("span",{class:"material-icons-outlined"}," add ",-1),i=Object(n["j"])(" 新增產品 "),r=[o,i],s={class:"table-responsive"},l={class:"table table-striped text-center text-nowrap"},d=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{scope:"col"},"分類"),Object(n["h"])("th",{scope:"col"},"產品圖片"),Object(n["h"])("th",{scope:"col"},"產品名稱"),Object(n["h"])("th",{scope:"col"},"原價"),Object(n["h"])("th",{scope:"col"},"售價"),Object(n["h"])("th",{scope:"col"},"產品標籤"),Object(n["h"])("th",{scope:"col"},"啟用狀態"),Object(n["h"])("th",{scope:"col"})])],-1),u={class:"align-middle"},b=Object(n["h"])("td",{colspan:"8",class:"py-5"}," 尚未有任何產品，可以點擊右上角的「新增產品」來新增產品 ",-1),h=[b],f=["src"],p={class:"text-end"},m={class:"text-end"},g={class:"d-flex justify-content-center align-items-center"},O={class:"form-check form-switch"},j=["id","onUpdate:modelValue","onChange"],v=["for"],y={class:"btn-group",role:"group","aria-label":"edit product"},x=["onClick"],k=["onClick"],w=Object(n["j"])("產品名稱： ");function U(t,e,a,o,i,b){var U=Object(n["H"])("pagination"),M=Object(n["H"])("productModal"),S=Object(n["H"])("delModal"),A=Object(n["H"])("loadingText");return Object(n["A"])(),Object(n["g"])(n["a"],null,[c,Object(n["h"])("button",{class:"btn btn-secondary px-4 d-flex ms-auto mb-3",onClick:e[0]||(e[0]=function(t){return b.showModal("add")})},r),Object(n["h"])("div",s,[Object(n["h"])("table",l,[d,Object(n["h"])("tbody",u,[Object(n["W"])(Object(n["h"])("tr",null,h,512),[[n["R"],!i.productsData.length]]),(Object(n["A"])(!0),Object(n["g"])(n["a"],null,Object(n["F"])(i.productsData,(function(t){return Object(n["W"])((Object(n["A"])(),Object(n["g"])("tr",{key:t.id},[Object(n["h"])("td",null,Object(n["K"])(t.category),1),Object(n["h"])("td",null,[Object(n["h"])("img",{class:"productImg-height",alt:"產品圖片",src:t.imageUrl},null,8,f)]),Object(n["h"])("td",null,Object(n["K"])(t.title),1),Object(n["h"])("td",p,"NTD "+Object(n["K"])(t.origin_price),1),Object(n["h"])("td",m,"NTD "+Object(n["K"])(t.price),1),Object(n["h"])("td",{class:Object(n["t"])(i.productTags[t.tag]["className"])},Object(n["K"])(i.productTags[t.tag]["text"]),3),Object(n["h"])("td",{class:Object(n["t"])(t.is_enabled?"text-success":"text-muted")},[Object(n["h"])("div",g,[Object(n["h"])("div",O,[Object(n["W"])(Object(n["h"])("input",{class:"form-check-input",type:"checkbox",role:"switch",id:t.id,"onUpdate:modelValue":function(e){return t.is_enabled=e},"true-value":1,"false-value":0,onChange:function(e){return b.changeEnable(t)}},null,40,j),[[n["O"],t.is_enabled]]),Object(n["h"])("label",{class:"form-check-label",for:t.id},Object(n["K"])(t.is_enabled?"啟用":"不啟用"),9,v)])])],2),Object(n["h"])("td",null,[Object(n["h"])("div",y,[Object(n["h"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:function(e){return b.showModal("edit",t)}},"編輯",8,x),Object(n["h"])("button",{type:"button",class:"btn btn-outline-danger",onClick:function(e){return b.showModal("delete",t)}},"刪除",8,k)])])])),[[n["R"],i.productsData.length]])})),128))])])]),Object(n["k"])(U,{pages:i.paginationData,onPage:b.getProducts},null,8,["pages","onPage"]),Object(n["k"])(M,{ref:"productModalOuter",product:i.modalTemp,status:i.methodStatus,onUpdate:b.getProducts},null,8,["product","status","onUpdate"]),Object(n["k"])(S,{ref:"delModalOuter",item:i.modalTemp,view:"product",onUpdate:b.getProducts},{"modal-text":Object(n["V"])((function(){return[Object(n["h"])("p",null,[w,Object(n["h"])("strong",null,Object(n["K"])(i.modalTemp.title),1)])]})),_:1},8,["item","onUpdate"]),Object(n["k"])(A,{isLoading:i.isLoading},null,8,["isLoading"])],64)}a("99af"),a("e9c4");var M=a("3d20"),S=a.n(M),A=a("2a53"),C=(a("a434"),a("a4d3"),a("e01a"),{class:"modal fade",id:"productModal",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true",ref:"modal"}),_={class:"modal-dialog modal-xl"},P={class:"modal-content"},V={class:"modal-header bg-dark text-white"},L={class:"modal-title",id:"productModalLabel"},T=Object(n["h"])("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),D={class:"modal-body"},F={class:"row"},B={class:"col-md-4 mb-3 mb-md-0"},I={class:"mb-3"},$=Object(n["h"])("small",{class:"text-danger"},"※ 圖片大小不可超過 3 MB",-1),N={class:"mb-2"},W=Object(n["h"])("label",{class:"form-label",for:"imgFile"},"產品主要圖片",-1),E={class:"btn-group w-100 mb-1",role:"group","aria-label":"Upload image button group"},K=["value"],J={key:1,class:"d-flex justify-content-center opacity-50 py-2"},R=Object(n["h"])("div",{class:"spinner-border text-dark",role:"status"},[Object(n["h"])("span",{class:"visually-hidden"},"Loading...")],-1),H=[R],q=["value"],Q=["src"],X={class:"mb-2"},G=Object(n["h"])("label",{class:"form-label",for:"otherImgFile"},"產品其他圖片",-1),z={class:"btn-group w-100 mb-1",role:"group","aria-label":"Upload image button group"},Y=["value"],Z={key:1,class:"d-flex justify-content-center opacity-50 py-2"},tt=Object(n["h"])("div",{class:"spinner-border text-dark",role:"status"},[Object(n["h"])("span",{class:"visually-hidden"},"Loading...")],-1),et=[tt],at={key:0,class:"input-group mb-3"},nt=["value"],ct=["onClick"],ot={class:"col-md-8"},it={class:"row"},rt={class:"mb-3"},st=Object(n["h"])("label",{class:"form-label",for:"title"},[Object(n["j"])(" 產品標題 "),Object(n["h"])("span",{class:"text-danger"},"*")],-1),lt={class:"col-md-6 mb-3"},dt=Object(n["h"])("label",{class:"form-label",for:"category"},[Object(n["j"])(" 分類 "),Object(n["h"])("span",{class:"text-danger"},"*")],-1),ut={class:"col-md-6 mb-3"},bt=Object(n["h"])("label",{class:"form-label",for:"unit"},[Object(n["j"])(" 單位 "),Object(n["h"])("span",{class:"text-danger"},"*")],-1),ht={class:"col-md-6 mb-3"},ft=Object(n["h"])("label",{class:"form-label",for:"originPrice"},[Object(n["j"])(" 原價 "),Object(n["h"])("span",{class:"text-danger"},"*")],-1),pt={class:"col-md-6 mb-3"},mt=Object(n["h"])("label",{class:"form-label",for:"price"},[Object(n["j"])(" 售價 "),Object(n["h"])("span",{class:"text-danger"},"*")],-1),gt=Object(n["h"])("hr",null,null,-1),Ot={class:"mb-3"},jt=Object(n["h"])("label",{class:"form-label",for:"description"},"產品描述",-1),vt={class:"mb-3"},yt=Object(n["h"])("label",{class:"form-label",for:"content"},"內容說明",-1),xt={class:"mb-3"},kt=Object(n["h"])("label",{class:"form-label",for:"productTag"},"產品標籤",-1),wt=Object(n["h"])("option",{disabled:""},"請選擇產品標籤",-1),Ut=Object(n["h"])("option",{value:"0"},"無",-1),Mt=Object(n["h"])("option",{value:"1"},"人氣精選",-1),St=Object(n["h"])("option",{value:"2"},"新品上市",-1),At=[wt,Ut,Mt,St],Ct={class:"d-flex justify-content-end"},_t={class:"form-check form-switch"},Pt=Object(n["h"])("label",{class:"form-check-label",for:"is_enabled"},"是否啟用",-1),Vt={class:"modal-footer"},Lt=Object(n["h"])("button",{type:"button",class:"btn btn-outline-secondary px-4","data-bs-dismiss":"modal"},"取消",-1),Tt=["disabled"],Dt={key:0},Ft={key:1,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function Bt(t,e,a,c,o,i){var r=Object(n["H"])("Field"),s=Object(n["H"])("ErrorMessage"),l=Object(n["H"])("Form");return Object(n["A"])(),Object(n["g"])("div",C,[Object(n["h"])("div",_,[Object(n["h"])("div",P,[Object(n["h"])("div",V,[Object(n["h"])("h3",L,Object(n["K"])("add"===a.status?"新增":"編輯")+"產品資料 ",1),T]),Object(n["k"])(l,{ref:"form",onSubmit:i.updateProduct},{default:Object(n["V"])((function(t){var a,c=t.errors,l=t.meta;return[Object(n["h"])("div",D,[Object(n["h"])("div",F,[Object(n["h"])("div",B,[Object(n["h"])("div",I,[$,Object(n["h"])("div",N,[W,Object(n["h"])("div",E,[Object(n["h"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:e[0]||(e[0]=function(t){return o.imgBtn.main="upload"})},"上傳圖片"),Object(n["h"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:e[1]||(e[1]=function(t){return o.imgBtn.main="url"})},"輸入網址")]),Object(n["W"])(Object(n["h"])("div",null,[o.isUploading?(Object(n["A"])(),Object(n["g"])("div",J,H)):(Object(n["A"])(),Object(n["g"])("input",{key:0,type:"file",class:"form-control",id:"imgFile",placeholder:"請選擇要上傳的圖片檔案",value:o.resetStr,onChange:e[2]||(e[2]=function(t){return i.uploadImg(t,"mainImg")})},null,40,K))],512),[[n["R"],"upload"===o.imgBtn.main]]),Object(n["W"])(Object(n["h"])("input",{type:"text",class:"form-control",placeholder:"請輸入圖片網址","aria-label":"輸入圖片網址","aria-describedby":"button-addon2","onUpdate:modelValue":e[3]||(e[3]=function(t){return o.item.imageUrl=t})},null,512),[[n["R"],"url"===o.imgBtn.main],[n["Q"],o.item.imageUrl]])]),Object(n["W"])(Object(n["h"])("div",null,[Object(n["h"])("input",{type:"text",class:"form-control mb-1","aria-label":"欲上傳產品圖片",value:o.item.imageUrl,readonly:""},null,8,q),Object(n["h"])("img",{class:"img-fluid",src:o.item.imageUrl,alt:"產品主圖片"},null,8,Q)],512),[[n["R"],o.item.imageUrl]])]),Object(n["h"])("div",X,[G,Object(n["h"])("div",z,[Object(n["h"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:e[4]||(e[4]=function(t){return o.imgBtn.other="upload"})},"上傳圖片"),Object(n["h"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:e[5]||(e[5]=function(t){return o.imgBtn.other="url"})},"輸入網址")]),Object(n["W"])(Object(n["h"])("div",null,[o.isUploading?(Object(n["A"])(),Object(n["g"])("div",Z,et)):(Object(n["A"])(),Object(n["g"])("input",{key:0,type:"file",class:"form-control",id:"otherImgFile",placeholder:"請選擇要上傳的圖片檔案",value:o.resetStr,onChange:e[6]||(e[6]=function(t){return i.uploadImg(t,"otherImg")})},null,40,Y))],512),[[n["R"],"upload"===o.imgBtn.other]]),"url"===o.imgBtn.other?(Object(n["A"])(),Object(n["g"])("div",at,[Object(n["W"])(Object(n["h"])("input",{type:"text",class:"form-control",placeholder:"請輸入圖片網址","aria-label":"輸入圖片網址","aria-describedby":"otherImgBtn","onUpdate:modelValue":e[7]||(e[7]=function(t){return o.imgUrl=t})},null,512),[[n["Q"],o.imgUrl]]),Object(n["h"])("button",{type:"button",class:"btn btn-outline-secondary",id:"otherImgBtn",onClick:e[8]||(e[8]=function(){return i.pushImg&&i.pushImg.apply(i,arguments)})},"新增")])):Object(n["f"])("",!0)]),Object(n["W"])(Object(n["h"])("div",null,[(Object(n["A"])(!0),Object(n["g"])(n["a"],null,Object(n["F"])(o.item.imagesUrl,(function(t,e){return Object(n["A"])(),Object(n["g"])("div",{class:"input-group mb-1",key:t},[Object(n["h"])("input",{type:"text",class:"form-control","aria-label":"欲上傳產品圖片","aria-describedby":"button-deleteImgUrl",value:t,readonly:""},null,8,nt),Object(n["h"])("button",{type:"button",class:"btn btn-danger",id:"button-deleteImgUrl",onClick:function(t){return o.item.imagesUrl.splice(e,1)}},"刪除",8,ct)])})),128))],512),[[n["R"],null===(a=o.item.imagesUrl)||void 0===a?void 0:a.length]])]),Object(n["h"])("div",ot,[Object(n["h"])("div",it,[Object(n["h"])("div",rt,[st,Object(n["k"])(r,{id:"title",class:Object(n["t"])(["form-control",{"is-invalid":c["標題"]}]),type:"text",name:"標題",placeholder:"請輸入產品標題",rules:"required",modelValue:o.item.title,"onUpdate:modelValue":e[9]||(e[9]=function(t){return o.item.title=t})},null,8,["modelValue","class"]),Object(n["k"])(s,{name:"標題",class:"invalid-feedback"})]),Object(n["h"])("div",lt,[dt,Object(n["k"])(r,{id:"category",class:Object(n["t"])(["form-control",{"is-invalid":c["分類"]}]),type:"text",name:"分類",placeholder:"請輸入產品分類",rules:"required",modelValue:o.item.category,"onUpdate:modelValue":e[10]||(e[10]=function(t){return o.item.category=t})},null,8,["class","modelValue"]),Object(n["k"])(s,{name:"分類",class:"invalid-feedback"})]),Object(n["h"])("div",ut,[bt,Object(n["k"])(r,{id:"unit",class:Object(n["t"])(["form-control",{"is-invalid":c["單位"]}]),type:"text",placeholder:"請輸入產品的單位",name:"單位",rules:"required",modelValue:o.item.unit,"onUpdate:modelValue":e[11]||(e[11]=function(t){return o.item.unit=t})},null,8,["class","modelValue"]),Object(n["k"])(s,{name:"單位",class:"invalid-feedback"})]),Object(n["h"])("div",ht,[ft,Object(n["k"])(r,{id:"originPrice",class:Object(n["t"])(["form-control",{"is-invalid":c["原價"]}]),type:"number",min:"0",placeholder:"請輸入產品原價",name:"原價",rules:"required|min_value:0",modelValue:o.item.origin_price,"onUpdate:modelValue":e[12]||(e[12]=function(t){return o.item.origin_price=t}),modelModifiers:{number:!0}},null,8,["class","modelValue"]),Object(n["k"])(s,{name:"原價",class:"invalid-feedback"})]),Object(n["h"])("div",pt,[mt,Object(n["k"])(r,{id:"price",class:Object(n["t"])(["form-control",{"is-invalid":c["售價"]}]),type:"number",min:"0",placeholder:"請輸入產品售價",name:"售價",rules:"required|min_value:0",modelValue:o.item.price,"onUpdate:modelValue":e[13]||(e[13]=function(t){return o.item.price=t}),modelModifiers:{number:!0}},null,8,["class","modelValue"]),Object(n["k"])(s,{name:"售價",class:"invalid-feedback"})])]),gt,Object(n["h"])("div",Ot,[jt,Object(n["W"])(Object(n["h"])("textarea",{id:"description",class:"form-control",type:"text",row:"100",placeholder:"請輸入產品描述","onUpdate:modelValue":e[14]||(e[14]=function(t){return o.item.description=t})},null,512),[[n["Q"],o.item.description]])]),Object(n["h"])("div",vt,[yt,Object(n["W"])(Object(n["h"])("textarea",{id:"content",class:"form-control",type:"text",row:"100",placeholder:"請輸入產品內容說明","onUpdate:modelValue":e[15]||(e[15]=function(t){return o.item.content=t})},null,512),[[n["Q"],o.item.content]])]),Object(n["h"])("div",xt,[kt,Object(n["W"])(Object(n["h"])("select",{class:"form-select",id:"productTag","aria-label":"Product Tag","onUpdate:modelValue":e[16]||(e[16]=function(t){return o.item.tag=t})},At,512),[[n["P"],o.item.tag]])]),Object(n["h"])("div",Ct,[Object(n["h"])("div",_t,[Object(n["W"])(Object(n["h"])("input",{type:"checkbox",role:"switch",id:"is_enabled",class:"form-check-input","true-value":1,"false-value":0,"onUpdate:modelValue":e[17]||(e[17]=function(t){return o.item.is_enabled=t})},null,512),[[n["O"],o.item.is_enabled]]),Pt])])])])]),Object(n["h"])("div",Vt,[Lt,Object(n["h"])("button",{type:"submit",class:"btn btn-primary px-4",disabled:o.isBtnLoading||!l.valid},[o.isBtnLoading?(Object(n["A"])(),Object(n["g"])("span",Ft)):(Object(n["A"])(),Object(n["g"])("span",Dt,"確認"))],8,Tt)])]})),_:1},8,["onSubmit"])])])],512)}var It=a("e0ae"),$t={data:function(){return{modal:{},item:this.product,imgBtn:{main:"",other:""},imgUrl:"",resetStr:"",isUploading:!1,isBtnLoading:!1}},props:["product","status"],watch:{product:function(){this.item=this.product}},mixins:[It["a"]],inject:["pushToastMessage"],methods:{uploadImg:function(t,e){var a=this,n=t.target.files[0],c=new FormData;c.append("file-to-upload",n);var o="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("calon","/admin/upload");this.isUploading=!0,this.$http.post(o,c).then((function(t){a.pushToastMessage(t.data.success,"圖片上傳");var n=t.data.imageUrl;switch(e){case"mainImg":a.item.imageUrl=n;break;case"otherImg":a.item.imagesUrl||(a.item.imagesUrl=[]),a.item.imagesUrl.push(n);break;default:break}})).catch((function(t){console.dir(t)})).then((function(){a.isUploading=!1,a.resetStr=""}))},pushImg:function(){""!==this.imgUrl&&(this.item.imagesUrl||(this.item.imagesUrl=[]),this.item.imagesUrl.push(this.imgUrl))},updateProduct:function(){var t=this,e="",a="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("calon","/admin/product");switch(this.status){case"add":e="post";break;case"edit":e="put",a="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("calon","/admin/product/").concat(this.item.id);break;default:break}this.isBtnLoading=!0,this.$http[e](a,{data:this.item}).then((function(e){t.modal.hide(),t.pushToastMessage(e.data.success,"產品更新"),t.$emit("update",!0)})).catch((function(e){console.dir(e),t.pushToastMessage(e.response.data.success,"產品更新")})).then((function(){t.isBtnLoading=!1}))}}},Nt=a("6b0d"),Wt=a.n(Nt);const Et=Wt()($t,[["render",Bt]]);var Kt=Et,Jt=a("6ff1"),Rt=a("cab8"),Ht={data:function(){return{productsData:[],paginationData:{},modalTemp:{imagesUrl:[],tag:0,is_enabled:0},isEnableChanged:{},methodStatus:"",productTags:{0:{text:"無",className:"text-muted"},1:{text:"人氣精選",className:"text-danger"},2:{text:"新品上市",className:"text-success"}},isLoading:!1}},provide:{pushToastMessage:Rt["a"]},methods:{getProducts:function(){var t,e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(null===(t=this.paginationData)||void 0===t?void 0:t.current_page)||1,n="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("calon","/admin/products?page=").concat(a);this.isLoading=!0,this.$http.get(n).then((function(t){e.productsData=t.data.products,e.paginationData=t.data.pagination,e.isLoading=!1})).catch((function(t){S.a.fire({icon:"error",text:t.data.response.message}),e.isLoading=!1}))},showModal:function(t,e){switch(this.methodStatus=t,t){case"add":this.modalTemp={imagesUrl:[],tag:0,is_enabled:0},this.$refs.productModalOuter.showModal();break;case"edit":this.modalTemp=JSON.parse(JSON.stringify(e)),this.$refs.productModalOuter.showModal();break;case"delete":this.modalTemp=e,this.$refs.delModalOuter.showModal();break;default:break}},changeEnable:function(t){var e=this,a="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("calon","/admin/product/").concat(t.id);this.isLoading=!0,this.$http.put(a,{data:t}).then((function(t){e.getProducts(),Object(Rt["a"])(t.data.success,"產品更新"),e.isLoading=!1})).catch((function(t){Object(Rt["a"])(t.response.data.success,"產品更新"),e.isLoading=!1}))}},created:function(){this.getProducts()},components:{pagination:A["a"],productModal:Kt,delModal:Jt["a"]}};a("64af");const qt=Wt()(Ht,[["render",U]]);e["default"]=qt},"99af":function(t,e,a){"use strict";var n=a("23e7"),c=a("da84"),o=a("d039"),i=a("e8b5"),r=a("861d"),s=a("7b0b"),l=a("07fa"),d=a("8418"),u=a("65f0"),b=a("1dde"),h=a("b622"),f=a("2d00"),p=h("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",O=c.TypeError,j=f>=51||!o((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),v=b("concat"),y=function(t){if(!r(t))return!1;var e=t[p];return void 0!==e?!!e:i(t)},x=!j||!v;n({target:"Array",proto:!0,forced:x},{concat:function(t){var e,a,n,c,o,i=s(this),r=u(i,0),b=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?i:arguments[e],y(o)){if(c=l(o),b+c>m)throw O(g);for(a=0;a<c;a++,b++)a in o&&d(r,b,o[a])}else{if(b>=m)throw O(g);d(r,b++,o)}return r.length=b,r}})},a434:function(t,e,a){"use strict";var n=a("23e7"),c=a("da84"),o=a("23cb"),i=a("5926"),r=a("07fa"),s=a("7b0b"),l=a("65f0"),d=a("8418"),u=a("1dde"),b=u("splice"),h=c.TypeError,f=Math.max,p=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!b},{splice:function(t,e){var a,n,c,u,b,O,j=s(this),v=r(j),y=o(t,v),x=arguments.length;if(0===x?a=n=0:1===x?(a=0,n=v-y):(a=x-2,n=p(f(i(e),0),v-y)),v+a-n>m)throw h(g);for(c=l(j,n),u=0;u<n;u++)b=y+u,b in j&&d(c,u,j[b]);if(c.length=n,a<n){for(u=y;u<v-n;u++)b=u+n,O=u+a,b in j?j[O]=j[b]:delete j[O];for(u=v;u>v-n+a;u--)delete j[u-1]}else if(a>n)for(u=v-n;u>y;u--)b=u+n-1,O=u+a-1,b in j?j[O]=j[b]:delete j[O];for(u=0;u<a;u++)j[u+y]=arguments[u+2];return j.length=v-n+a,c}})},a4d3:function(t,e,a){"use strict";var n=a("23e7"),c=a("da84"),o=a("d066"),i=a("2ba4"),r=a("c65b"),s=a("e330"),l=a("c430"),d=a("83ab"),u=a("4930"),b=a("d039"),h=a("1a2d"),f=a("e8b5"),p=a("1626"),m=a("861d"),g=a("3a9b"),O=a("d9b5"),j=a("825a"),v=a("7b0b"),y=a("fc6a"),x=a("a04b"),k=a("577e"),w=a("5c6c"),U=a("7c73"),M=a("df75"),S=a("241c"),A=a("057f"),C=a("7418"),_=a("06cf"),P=a("9bf2"),V=a("37e8"),L=a("d1e7"),T=a("f36a"),D=a("6eeb"),F=a("5692"),B=a("f772"),I=a("d012"),$=a("90e3"),N=a("b622"),W=a("e538"),E=a("746f"),K=a("d44e"),J=a("69f3"),R=a("b727").forEach,H=B("hidden"),q="Symbol",Q="prototype",X=N("toPrimitive"),G=J.set,z=J.getterFor(q),Y=Object[Q],Z=c.Symbol,tt=Z&&Z[Q],et=c.TypeError,at=c.QObject,nt=o("JSON","stringify"),ct=_.f,ot=P.f,it=A.f,rt=L.f,st=s([].push),lt=F("symbols"),dt=F("op-symbols"),ut=F("string-to-symbol-registry"),bt=F("symbol-to-string-registry"),ht=F("wks"),ft=!at||!at[Q]||!at[Q].findChild,pt=d&&b((function(){return 7!=U(ot({},"a",{get:function(){return ot(this,"a",{value:7}).a}})).a}))?function(t,e,a){var n=ct(Y,e);n&&delete Y[e],ot(t,e,a),n&&t!==Y&&ot(Y,e,n)}:ot,mt=function(t,e){var a=lt[t]=U(tt);return G(a,{type:q,tag:t,description:e}),d||(a.description=e),a},gt=function(t,e,a){t===Y&&gt(dt,e,a),j(t);var n=x(e);return j(a),h(lt,n)?(a.enumerable?(h(t,H)&&t[H][n]&&(t[H][n]=!1),a=U(a,{enumerable:w(0,!1)})):(h(t,H)||ot(t,H,w(1,{})),t[H][n]=!0),pt(t,n,a)):ot(t,n,a)},Ot=function(t,e){j(t);var a=y(e),n=M(a).concat(kt(a));return R(n,(function(e){d&&!r(vt,a,e)||gt(t,e,a[e])})),t},jt=function(t,e){return void 0===e?U(t):Ot(U(t),e)},vt=function(t){var e=x(t),a=r(rt,this,e);return!(this===Y&&h(lt,e)&&!h(dt,e))&&(!(a||!h(this,e)||!h(lt,e)||h(this,H)&&this[H][e])||a)},yt=function(t,e){var a=y(t),n=x(e);if(a!==Y||!h(lt,n)||h(dt,n)){var c=ct(a,n);return!c||!h(lt,n)||h(a,H)&&a[H][n]||(c.enumerable=!0),c}},xt=function(t){var e=it(y(t)),a=[];return R(e,(function(t){h(lt,t)||h(I,t)||st(a,t)})),a},kt=function(t){var e=t===Y,a=it(e?dt:y(t)),n=[];return R(a,(function(t){!h(lt,t)||e&&!h(Y,t)||st(n,lt[t])})),n};if(u||(Z=function(){if(g(tt,this))throw et("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?k(arguments[0]):void 0,e=$(t),a=function(t){this===Y&&r(a,dt,t),h(this,H)&&h(this[H],e)&&(this[H][e]=!1),pt(this,e,w(1,t))};return d&&ft&&pt(Y,e,{configurable:!0,set:a}),mt(e,t)},tt=Z[Q],D(tt,"toString",(function(){return z(this).tag})),D(Z,"withoutSetter",(function(t){return mt($(t),t)})),L.f=vt,P.f=gt,V.f=Ot,_.f=yt,S.f=A.f=xt,C.f=kt,W.f=function(t){return mt(N(t),t)},d&&(ot(tt,"description",{configurable:!0,get:function(){return z(this).description}}),l||D(Y,"propertyIsEnumerable",vt,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:Z}),R(M(ht),(function(t){E(t)})),n({target:q,stat:!0,forced:!u},{for:function(t){var e=k(t);if(h(ut,e))return ut[e];var a=Z(e);return ut[e]=a,bt[a]=e,a},keyFor:function(t){if(!O(t))throw et(t+" is not a symbol");if(h(bt,t))return bt[t]},useSetter:function(){ft=!0},useSimple:function(){ft=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!d},{create:jt,defineProperty:gt,defineProperties:Ot,getOwnPropertyDescriptor:yt}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:xt,getOwnPropertySymbols:kt}),n({target:"Object",stat:!0,forced:b((function(){C.f(1)}))},{getOwnPropertySymbols:function(t){return C.f(v(t))}}),nt){var wt=!u||b((function(){var t=Z();return"[null]"!=nt([t])||"{}"!=nt({a:t})||"{}"!=nt(Object(t))}));n({target:"JSON",stat:!0,forced:wt},{stringify:function(t,e,a){var n=T(arguments),c=e;if((m(e)||void 0!==t)&&!O(t))return f(e)||(e=function(t,e){if(p(c)&&(e=r(c,this,t,e)),!O(e))return e}),n[1]=e,i(nt,null,n)}})}if(!tt[X]){var Ut=tt.valueOf;D(tt,X,(function(t){return r(Ut,this)}))}K(Z,q),I[H]=!0},aeec:function(t,e,a){},b727:function(t,e,a){var n=a("0366"),c=a("e330"),o=a("44ad"),i=a("7b0b"),r=a("07fa"),s=a("65f0"),l=c([].push),d=function(t){var e=1==t,a=2==t,c=3==t,d=4==t,u=6==t,b=7==t,h=5==t||u;return function(f,p,m,g){for(var O,j,v=i(f),y=o(v),x=n(p,m),k=r(y),w=0,U=g||s,M=e?U(f,k):a||b?U(f,0):void 0;k>w;w++)if((h||w in y)&&(O=y[w],j=x(O,w,v),t))if(e)M[w]=j;else if(j)switch(t){case 3:return!0;case 5:return O;case 6:return w;case 2:l(M,O)}else switch(t){case 4:return!1;case 7:l(M,O)}return u?-1:c||d?d:M}};t.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},e01a:function(t,e,a){"use strict";var n=a("23e7"),c=a("83ab"),o=a("da84"),i=a("e330"),r=a("1a2d"),s=a("1626"),l=a("3a9b"),d=a("577e"),u=a("9bf2").f,b=a("e893"),h=o.Symbol,f=h&&h.prototype;if(c&&s(h)&&(!("description"in f)||void 0!==h().description)){var p={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:d(arguments[0]),e=l(f,this)?new h(t):void 0===t?h():h(t);return""===t&&(p[e]=!0),e};b(m,h),m.prototype=f,f.constructor=m;var g="Symbol(test)"==String(h("test")),O=i(f.toString),j=i(f.valueOf),v=/^Symbol\((.*)\)[^)]+$/,y=i("".replace),x=i("".slice);u(f,"description",{configurable:!0,get:function(){var t=j(this),e=O(t);if(r(p,t))return"";var a=g?x(e,7,-1):y(e,v,"$1");return""===a?void 0:a}}),n({global:!0,forced:!0},{Symbol:m})}},e0ae:function(t,e,a){"use strict";var n=a("7b17");e["a"]={data:function(){return{modal:{}}},methods:{showModal:function(){this.modal.show()},hideModal:function(){this.modal.hide()}},mounted:function(){this.modal=new n["a"](this.$refs.modal)}}},e538:function(t,e,a){var n=a("b622");e.f=n},e8b5:function(t,e,a){var n=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},e9c4:function(t,e,a){var n=a("23e7"),c=a("da84"),o=a("d066"),i=a("2ba4"),r=a("e330"),s=a("d039"),l=c.Array,d=o("JSON","stringify"),u=r(/./.exec),b=r("".charAt),h=r("".charCodeAt),f=r("".replace),p=r(1..toString),m=/[\uD800-\uDFFF]/g,g=/^[\uD800-\uDBFF]$/,O=/^[\uDC00-\uDFFF]$/,j=function(t,e,a){var n=b(a,e-1),c=b(a,e+1);return u(g,t)&&!u(O,c)||u(O,t)&&!u(g,n)?"\\u"+p(h(t,0),16):t},v=s((function(){return'"\\udf06\\ud834"'!==d("\udf06\ud834")||'"\\udead"'!==d("\udead")}));d&&n({target:"JSON",stat:!0,forced:v},{stringify:function(t,e,a){for(var n=0,c=arguments.length,o=l(c);n<c;n++)o[n]=arguments[n];var r=i(d,null,o);return"string"==typeof r?f(r,m,j):r}})}}]);
//# sourceMappingURL=chunk-54470a8a.dedd95a2.js.map